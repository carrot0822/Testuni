(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/option/option"],{"002e":function(t,e,o){"use strict";o.r(e);var n=o("ca51"),r=o.n(n);for(var a in n)"default"!==a&&function(t){o.d(e,t,function(){return n[t]})}(a);e["default"]=r.a},"4f19":function(t,e,o){"use strict";o.r(e);var n=o("6ffb"),r=o("002e");for(var a in r)"default"!==a&&function(t){o.d(e,t,function(){return r[t]})}(a);o("7d94");var i=o("2877"),u=Object(i["a"])(r["default"],n["a"],n["b"],!1,null,null,null);e["default"]=u.exports},"6ffb":function(t,e,o){"use strict";var n=function(){var t=this,e=t.$createElement;t._self._c},r=[];o.d(e,"a",function(){return n}),o.d(e,"b",function(){return r})},"7d94":function(t,e,o){"use strict";var n=o("bdf6"),r=o.n(n);r.a},bdf6:function(t,e,o){},ca51:function(t,e,o){"use strict";(function(t,o){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={data:function(){return{tabInd:0,statusBarHeight:0,bodyHeight:0,state:"",isLocked:!0,storeroomArray:[],storeroomIndex:0,storeroomNum:0,storerooms:[],regions:[],regionArray:[],regionIndex:0,regionNum:0,cols:[],colIndex:0,direction:"",curState:"",isMove:!1,hjz:{wd:0,sd:0,co2:0,ch20:0,pm10:0,pm25:0,tvoc:0},timeer:null}},watch:{storeroomNum:function(e,o){t.setStorage({key:"fkStoredId",data:e,success:function(){}})}},onLoad:function(){this.statusBarHeight=t.getSystemInfoSync()["statusBarHeight"],this.bodyHeight=t.getSystemInfoSync()["windowHeight"]-this.statusBarHeight-48,this.selectStoreRoom()},methods:{onPageJump:function(){t.navigateTo({url:"../search/search"})},scrollL:function(e){var o=this,n=e.detail.scrollLeft,r=t.createSelectorQuery().in(this);r.select(".temp_shelf .item_box").boundingClientRect(function(t){var e=Math.floor(n/(3*t.width));o.tabInd=e}).exec()},upper:function(t){this.tabInd=0},lower:function(t){this.tabInd=1},selectStoreRoom:function(){var t=this;t.submitAjax("environmentmodule/wkStoTbStore/selectWkStoTbStore",null,"GET",function(e){t.storeroomArray=[],t.storerooms=e.data.rows;var o=!0,n=!1,r=void 0;try{for(var a,i=e.data.rows[Symbol.iterator]();!(o=(a=i.next()).done);o=!0){var u=a.value;t.storeroomArray.push(u.storeName)}}catch(s){n=!0,r=s}finally{try{o||null==i.return||i.return()}finally{if(n)throw r}}t.storeroomNum=e.data.rows[0].id,t.selectRegion(t.storeroomNum)})},storeroomChange:function(t){var e=this;e.storeroomNum=e.storerooms[t.target.value].id,e.storeroomIndex=t.target.value,e.selectRegion(e.storeroomNum)},selectRegion:function(t){var e=this;e.submitAjax("storeroommodule/stoTbRegion/selectByBind?fkStoreId="+t,null,"GET",function(t){e.regionArray=[],e.regions=t.data.rows;var o=!0,n=!1,r=void 0;try{for(var a,i=e.regions[Symbol.iterator]();!(o=(a=i.next()).done);o=!0){var u=a.value;e.regionArray.push(u.regionName)}}catch(s){n=!0,r=s}finally{try{o||null==i.return||i.return()}finally{if(n)throw r}}e.regionNum=t.data.rows[0].regionNum,e.getCols(e.regionNum),e.timeer=setInterval(function(){e.timingGetState()},3e3)})},regionChange:function(t){var e=this;e.regionNum=e.regions[t.target.value].regionNum,e.regionIndex=t.target.value,e.getCols(e.regionNum)},getCols:function(t){var e=this;e.cols=[];var o={},n=!0,r=!1,a=void 0;try{for(var i,u=e.regions[Symbol.iterator]();!(n=(i=u.next()).done);n=!0){var s=i.value;if(s.regionNum==t){o=s;break}}}catch(c){r=!0,a=c}finally{try{n||null==u.return||u.return()}finally{if(r)throw a}}for(var l=1;l<=o.cols;l++){if(("left"==o.gdlType||"right"==o.gdlType)&&l==o.cols)break;e.cols.push(l)}e.colNum=e.cols[0]},colChange:function(t){var e=this;e.colNum=e.cols[t.target.value],e.colIndex=t.target.value},timingGetState:function(){var t=this,e=t.regionNum;t.submitAjax(t.$mjjUrl+"denseShelves/getstates?quNum="+e,null,"POST",function(e){if(e.data.state&&e.data.row){var n=JSON.parse(e.data.row);t.state=n.message,console.log(o(t.state," at pages\\option\\option.vue:367")),"禁止"!=t.state&&"锁定"!=t.state&&"到位"!=t.state&&"机械锁定"!=t.state&&"停止"!=t.state||(t.isMove=!1),"正在右移中"!=t.state&&"正在左移中"!=t.state||(t.isMove=!0)}}),t.getGethumiture(e)},getGethumiture:function(t){var e=this;e.submitAjax(e.$mjjUrl+"countmodule/storeAndRegionCount/getNewHumiture?quNum="+t,null,"POST",function(t){if(t.data.state&&t.data.row){var o=t.data.row;e.hjz.wd=o.wd.toFixed(1)?o.wd.toFixed(1):0,e.hjz.sd=o.sd.toFixed(1)?o.sd.toFixed(1):0,e.hjz.tvoc=o.tvoc.toFixed(1)?o.tvoc.toFixed(1):0,e.hjz.co2=o.co2.toFixed(1)?o.co2.toFixed(1):0,e.hjz.ch20=o.ch20.toFixed(1)?o.ch20.toFixed(1):0,e.hjz.pm10=o.pm10.toFixed(1)?o.pm10.toFixed(1):0,e.hjz.pm25=o.pm25.toFixed(1)?o.pm25.toFixed(1):0}})},locked:function(){var t=this,e=t.regionNum;t.isLocked?t.submitAjax(t.$mjjUrl+"denseShelves/Unlock?quNum="+e,null,"POST",function(e){if(console.log(o(e," at pages\\option\\option.vue:402")),e.data.state&&e.data.row){JSON.parse(e.data.row);t.isLocked=!1}}):t.submitAjax(t.$mjjUrl+"denseShelves/locking?quNum="+e,null,"POST",function(e){if(console.log(o(e," at pages\\option\\option.vue:412")),e.data.state&&e.data.row){JSON.parse(e.data.row);t.isLocked=!0}})},opTask:function(){var t=this;t.submitAjax(t.$mjjUrl+"denseShelves/openshelf?quNum="+t.regionNum,null,"POST",function(t){})},closeTask:function(){var t=this;t.submitAjax(t.$mjjUrl+"denseShelves/merge?quNum="+t.regionNum,null,"POST",function(t){})},ventilation:function(){var t=this;t.submitAjax(t.$mjjUrl+"denseShelves/aeration?quNum="+t.regionNum,null,"POST",function(t){})},left:function(){var t=this;t.submitAjax(t.$mjjUrl+"denseShelves/leftmove?quNum="+t.regionNum+"&column="+t.colNum,null,"POST",function(t){if(t.data.state&&t.data.row)JSON.parse(t.data.row)})},stop:function(){var t=this;t.isMove=!1,t.submitAjax(t.$mjjUrl+"denseShelves/stop?quNum="+t.regionNum,null,"POST",function(t){})},right:function(){var t=this;t.submitAjax(t.$mjjUrl+"denseShelves/rightmove?quNum="+t.regionNum+"&column="+t.colNum,null,"POST",function(t){if(t.data.state&&t.data.row)JSON.parse(t.data.row)})}}};e.default=n}).call(this,o("6e42")["default"],o("0de9")["default"])},db65:function(t,e,o){"use strict";(function(t){o("c417"),o("921b");n(o("66fd"));var e=n(o("4f19"));function n(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,o("6e42")["createPage"])}},[["db65","common/runtime","common/vendor"]]]);